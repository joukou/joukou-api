[15:00:58] Using gulpfile ~/Workspace/Joukou/joukou-api/gulpfile.js
[15:00:58] Starting 'sloc'...
[15:00:58] Starting 'coffeelint'...
[15:00:58] Starting 'clean:build'...
[15:00:58] Finished 'clean:build' after 198 ms
[15:00:58] Starting 'jade:build'...
[15:00:58] Starting 'coffee:build'...
[15:00:58] gulp-debug: Coffee (2014-10-13 02:00:58 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/authn.js.map
contents: {
  "version": 3,
  "file": "authn.js",
  "sourceRoot": "../src",
  "sources": [
    "authn.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;;;;;;;;GAFA;AAAA,IAAA,2QAAA;;AAAA,QAeA,GAAoB,OAAA,CAAS,UAAT,CAfpB,CAAA;;AAAA,cAgBA,GAAoB,OAAA,CAAS,UAAT,CAhBpB,CAAA;;AAAA,cAiBA,GAAoB,OAAA,CAAS,iBAAT,CAA4B,CAAC,QAjBjD,CAAA;;AAAA,UAkBA,GAAoB,OAAA,CAAS,eAAT,CAlBpB,CAAA;;AAAA,OAmBuC,OAAA,CAAS,SAAT,CAAvC,EAAE,yBAAA,iBAAF,EAAqB,qBAAA,aAnBrB,CAAA;;AAAA,GAoBA,GAAoB,OAAA,CAAS,OAAT,CApBpB,CAAA;;AAAA,CAqBA,GAAoB,OAAA,CAAS,GAAT,CArBpB,CAAA;;AAAA,cAsBA,GAAoB,OAAA,CAAS,sBAAT,CAAiC,CAAC,QAtBtD,CAAA;;AAAA,GAuBA,GAAoB,OAAA,CAAS,cAAT,CAvBpB,CAAA;;AAAA,CAwBA,GAAoB,OAAA,CAAS,QAAT,CAxBpB,CAAA;;AAAA,YAyBA,GAAoB,OAAA,CAAS,iBAAT,CAzBpB,CAAA;;AAAA,UA0BA,GAAoB,OAAA,CAAS,uBAAT,CA1BpB,CAAA;;AAAA,oBA8BA,GAAuB,SAAE,OAAF,EAAW,KAAX,GAAA;AACrB,MAAA,0CAAA;AAAA,EAAA,QAAA,GAAW,CAAC,CAAC,KAAF,CAAA,CAAX,CAAA;AAAA,EACA,OAAA,GAAU,OAAO,CAAC,KAAR,IAAiB,OAD3B,CAAA;AAGA,EAAA,IAAG,CAAA,OAAH;AACE,IAAA,QAAQ,CAAC,MAAT,CAAo...

[15:00:58] gulp-debug: Coffee (2014-10-13 02:00:58 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/authn.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137021,
	size: 5756,
	blocks: 16,
	atime: new Date('2014-10-13T01:59:47.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
Authentication based on Passport.

@module joukou-api/authn
@requires passport
@requires passport-github
@requires joukou-api/agent/Model
@author Isaac Johnston <isaac.johnston@joukou.com>
@copyright &copy; 2009-2014 Joukou Ltd. All rights reserved.
 */
var AgentModel, BearerStrategy, GithubStrategy, GraphModel, NotFoundError, PersonaModel, Q, UnauthorizedError, authenticate, authenticateToken, env, generateTokenFromAgent, githubEnv, githubProfileToAgent, jwt, passport, passportBearer, self, verify, verifyToken, _, _ref;

passport = require('passport');

passportBearer = require('passport');

GithubStrategy = require('passport-github').Strategy;

AgentModel = require('./agent/Model');

_ref = require('restify'), UnauthorizedError = _ref.UnauthorizedError, NotFoundError = _ref.NotFoundError;

env = require('./env');

Q = require('q');

BearerStrategy = require('passport-http-bearer').Strategy;

jwt = require('jsonwebtoken');

_ = require('lodash');

PersonaModel = req...

[15:00:58] gulp-debug: Coffee (2014-10-13 02:00:58 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/authz.js.map
contents: {
  "version": 3,
  "file": "authz.js",
  "sourceRoot": "../src",
  "sources": [
    "authz.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;;;;;;GAFA;AAWA;AAAA;;;GAXA;AAgBA;AAAA;;;;GAhBA;AAsBA;AAAA;;;;GAtBA;AAAA,IAAA,OAAA;;AAAA,CA4BA,GAAI,OAAA,CAAS,QAAT,CA5BJ,CAAA;;AAAA,MA8BM,CAAC,OAAP,GAAiB,IAAA,GAGf;AAAA;AAAA;;KAAA;AAAA,EAGA,aAAA,EAAe,SAAE,KAAF,EAAS,UAAT,GAAA,CAHf;CAjCF,CAAA"
}...

[15:00:58] gulp-debug: Coffee (2014-10-13 02:00:58 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/authz.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137022,
	size: 824,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:47.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/*
Authorization.

@module joukou-api/authz
@requires lodash
@author Isaac Johnston <isaac.johnston@joukou.com>
@copyright &copy; 2009-2014 Joukou Ltd. All rights reserved.
 */

/*
@apiDefinePermission guest Unauthenticated users have access.
Anyone with access to the public internet may access these resources.
 */

/*
@apiDefinePermission agent Agent access rights required.
An *Agent* is authorized to act on behalf of a *Persona* (called the
*Principal*).
 */

/*
@apiDefinePermission operator Operator access rights required.
An *Operator* is a person that is involved in providing the services of this
Joukou platform installation.
 */
var self, _;

_ = require('lodash');

module.exports = self = {

  /**
  Check if the given `agent` has the given `permission`.
   */
  hasPermission: function(agent, permission) {}
};

/*
//# sourceMappingURL=authz.js.map
*/...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/cluster.js.map
contents: {
  "version": 3,
  "file": "cluster.js",
  "sourceRoot": "../src",
  "sources": [
    "cluster.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;;;;;;;;;;GAFA;AAAA,IAAA,2BAAA;;AAAA,CAeA,GAAY,OAAA,CAAS,QAAT,CAfZ,CAAA;;AAAA,OAgBA,GAAY,OAAA,CAAS,SAAT,CAhBZ,CAAA;;AAAA,OAiBY,OAAA,CAAS,IAAT,EAAV,IAjBF,CAAA;;AAAA,IAkBA,GAAY,OAAA,CAAS,MAAT,CAlBZ,CAAA;;AAAA,GAmBA,GAAY,OAAA,CAAS,qBAAT,CAAgC,CAAC,SAAjC,CAA4C;AAAA,EAAA,IAAA,EAAM,SAAN;CAA5C,CAnBZ,CAAA;;AAqBA,IAAG,OAAO,CAAC,QAAX;AAEE,EAAA,CAAC,CAAC,KAAF,CAAS,IAAA,CAAA,CAAM,CAAC,MAAhB,EAAwB,SAAA,GAAA;WAAG,OAAO,CAAC,IAAR,CAAA,EAAH;EAAA,CAAxB,CAAA,CAAA;AAAA,EAGA,OAAO,CAAC,EAAR,CAAY,MAAZ,EAAoB,SAAE,MAAF,EAAU,IAAV,EAAgB,MAAhB,GAAA;AAClB,IAAA,GAAG,CAAC,IAAJ,CACE,8CAAA,GACA,eAFF,EAGE,MAAM,CAAC,OAAO,CAAC,GAHjB,EAGsB,IAHtB,EAG4B,MAH5B,CAAA,CAAA;WAKA,OAAO,CAAC,IAAR,CAAA,EANkB;EAAA,CAApB,CAHA,CAFF;CAAA,MAAA;AAcE,EAAA,OAAA,CAAS,UAAT,CAAA,CAdF;CArBA"
}...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/cluster.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137023,
	size: 1074,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:47.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
Launches a cluster of Joukou API processes to take advantage of multi-core
systems and restarting failed worker processes for reliability.
@module joukou-api/cluster
@requires lodash
@requires cluster
@requires os
@requires path
@copyright (c) 2009-2013 Joukou Ltd. All rights reserved.
@author Isaac Johnston <isaac.johnston@joukou.com>
@author Ben Brabant <ben.brabant@joukou.com>
 */
var cluster, cpus, log, path, _;

_ = require('lodash');

cluster = require('cluster');

cpus = require('os').cpus;

path = require('path');

log = require('./log/LoggerFactory').getLogger({
  name: 'cluster'
});

if (cluster.isMaster) {
  _.times(cpus().length, function() {
    return cluster.fork();
  });
  cluster.on('exit', function(worker, code, signal) {
    log.warn('joukou-api worker process %s died (%s / %s).' + 'Restarting...', worker.process.pid, code, signal);
    return cluster.fork();
  });
} else {
  require('./server');
}

/*
//# sourceMappingURL=cluster.js.map
*/...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/config.js.map
contents: {
  "version": 3,
  "file": "config.js",
  "sourceRoot": "../src",
  "sources": [
    "config.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;;;;GAFA;AAAA,IAAA,sBAAA;;AAAA,EASA,GAAO,OAAA,CAAS,IAAT,CATP,CAAA;;AAAA,IAUA,GAAO,OAAA,CAAS,MAAT,CAVP,CAAA;;AAAA,IAWA,GAAO,OAAA,CAAS,SAAT,CAXP,CAAA;;AAAA,GAYA,GAAO,OAAA,CAAS,qBAAT,CAAgC,CAAC,SAAjC,CAA4C;AAAA,EAAA,IAAA,EAAM,QAAN;CAA5C,CAZP,CAAA;;AAcA;AACE,EAAA,MAAM,CAAC,OAAP,GAAiB,IAAI,CAAC,QAAL,CACf,EAAE,CAAC,YAAH,CAAiB,OAAO,CAAC,GAAG,CAAC,aAA7B,EAA4C;AAAA,IAAA,QAAA,EAAU,MAAV;GAA5C,CADe,CAAjB,CADF;CAAA,cAAA;AAKE,EADI,UACJ,CAAA;AAAA,EAAA,GAAG,CAAC,IAAJ,CAAU,iBAAA,GAAoB,OAAO,CAAC,GAAG,CAAC,aAA1C,CAAA,CAAA;AAAA,EACA,MAAM,CAAC,OAAP,GAAiB,EADjB,CALF;CAdA"
}...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/config.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137024,
	size: 562,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:47.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
Simple module to load deployment configuration from a YAML file.
@module joukou-api/config
@author Isaac Johnston <isaac.johnston@joukou.com>
@copyright (c) 2014 Joukou Ltd. All rights reserved.
 */
var e, fs, log, path, yaml;

fs = require('fs');

path = require('path');

yaml = require('js-yaml');

log = require('./log/LoggerFactory').getLogger({
  name: 'server'
});

try {
  module.exports = yaml.safeLoad(fs.readFileSync(process.env.JOUKOU_CONFIG, {
    encoding: 'utf8'
  }));
} catch (_error) {
  e = _error;
  log.warn('unable to load ' + process.env.JOUKOU_CONFIG);
  module.exports = {};
}

/*
//# sourceMappingURL=config.js.map
*/...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/cors.js.map
contents: {
  "version": 3,
  "file": "cors.js",
  "sourceRoot": "../src",
  "sources": [
    "cors.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;;;;GAFA;AAAA,IAAA,SAAA;;AAAA,IASA,GAAQ,OAAA,CAAS,yBAAT,CATR,CAAA;;AAAA,GAUA,GAAQ,OAAA,CAAS,OAAT,CAVR,CAAA;;AAAA,MAYM,CAAC,OAAP,GAAiB,IAAA,CACf;AAAA,EAAA,OAAA,EAAS,GAAG,CAAC,UAAJ,CAAA,CAAT;AAAA,EACA,YAAA,EAAc,CACZ,eADY,EAEZ,QAFY,EAGZ,gBAHY,EAIZ,cAJY,EAKZ,YALY,EAMZ,QANY,EAOZ,eAPY,EAQZ,cARY,CADd;AAAA,EAWA,aAAA,EAAe,CACb,aADa,EAEb,gBAFa,EAGb,aAHa,EAIb,cAJa,EAKb,MALa,EAMb,YANa,EAOb,eAPa,CAXf;CADe,CAZjB,CAAA"
}...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/cors.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137027,
	size: 676,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:48.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
Simple wrapper to pre-configure the restify-cors-middleware module.
@module joukou-api/cors
@author Isaac Johnston <isaac.johnston@joukou.com>
@copyright &copy; 2009-2014 Joukou Ltd. All rights reserved.
 */
var cors, env;

cors = require('restify-cors-middleware');

env = require('./env');

module.exports = cors({
  origins: env.getOrigins(),
  allowHeaders: ['authorization', 'accept', 'accept-version', 'content-type', 'request-id', 'origin', 'x-api-version', 'x-request-id'],
  exposeHeaders: ['api-version', 'content-length', 'content-md5', 'content-type', 'date', 'request-id', 'response-time']
});

/*
//# sourceMappingURL=cors.js.map
*/...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/env.js.map
contents: {
  "version": 3,
  "file": "env.js",
  "sourceRoot": "../src",
  "sources": [
    "env.coffee"
  ],
  "names": [],
  "mappings": "AAEA,IAAA,IAAA;;AAAA,MAAM,CAAC,OAAP,GAAiB,IAAA,GAEf;AAAA,EAAA,cAAA,EAAgB,SAAA,GAAA;AACd,YAAO,OAAO,CAAC,GAAG,CAAC,QAAnB;AAAA,WACO,YADP;eAEI,aAFJ;AAAA,WAGO,SAHP;eAII,UAJJ;AAAA;eAMI,cANJ;AAAA,KADc;EAAA,CAAhB;AAAA,EASA,OAAA,EAAS,SAAA,GAAA;AACP,YAAO,IAAI,CAAC,cAAL,CAAA,CAAP;AAAA,WACO,YADP;eAEI,yBAFJ;AAAA,WAGO,SAHP;eAII,iCAJJ;AAAA;eAMI,wBANJ;AAAA,KADO;EAAA,CATT;AAAA,EAkBA,OAAA,EAAS,SAAA,GAAA;AACP,YAAO,IAAI,CAAC,cAAL,CAAA,CAAP;AAAA,WACO,YADP;eAEI,iBAFJ;AAAA,WAGO,SAHP;eAII,yBAJJ;AAAA;eAMI,YANJ;AAAA,KADO;EAAA,CAlBT;AAAA,EA2BA,aAAA,EAAe,SAAA,GAAA;AACb,YAAO,IAAI,CAAC,cAAL,CAAA,CAAP;AAAA,WACO,YADP;AAAA,WACqB,SADrB;eAEI,IAAI,CAAC,OAAL,CAAA,EAFJ;AAAA;eAII,OAAA,CAAS,iBAAT,CAA4B,CAAC,KAJjC;AAAA,KADa;EAAA,CA3Bf;AAAA,EAkCA,UAAA,EAAY,SAAA,GAAA;WACV,OAAA,CAAS,iBAAT,CAA4B,CAAC,QADnB;EAAA,CAlCZ;AAAA,EAqCA,UAAA,EAAY,SAAA,GAAA;AACV,YAAO,IAAI,CAAC,cAAL,CAAA,CAAP;AAAA,WACO,YADP;eAEI...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/env.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137028,
	size: 2054,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:48.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: var self;

module.exports = self = {
  getEnvironment: function() {
    switch (process.env.NODE_ENV) {
      case 'production':
        return 'production';
      case 'staging':
        return 'staging';
      default:
        return 'development';
    }
  },
  getHost: function() {
    switch (self.getEnvironment()) {
      case 'production':
        return 'https://api.joukou.com';
      case 'staging':
        return 'https://staging-api.joukou.com';
      default:
        return 'http://127.0.0.1:2101';
    }
  },
  getFQDN: function() {
    switch (self.getEnvironment()) {
      case 'production':
        return 'api.joukou.com';
      case 'staging':
        return 'staging-api.joukou.com';
      default:
        return 'localhost';
    }
  },
  getServerName: function() {
    switch (self.getEnvironment()) {
      case 'production':
      case 'staging':
        return self.getFQDN();
      default:
        return require('../package.json').name;
    }
  },
  getVersion: funct...

[15:00:59] Finished 'jade:build' after 487 ms
[15:00:59] Starting 'rename-html-to-xml:build'...
[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/hal.js.map
contents: {
  "version": 3,
  "file": "hal.js",
  "sourceRoot": "../src",
  "sources": [
    "hal.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;;;;;;;GAFA;AAAA,IAAA,iCAAA;EAAA,qJAAA;;AAAA,CAWA,GAAc,OAAA,CAAQ,QAAR,CAXd,CAAA;;AAAA,MAYA,GAAc,OAAA,CAAQ,aAAR,CAZd,CAAA;;AAAA,MAaA,GAAc,OAAA,CAAS,UAAT,CAbd,CAAA;;AAAA,iBAcqB,OAAA,CAAS,SAAT,EAAnB,cAdF,CAAA;;AAAA,MAgBM,CAAC,OAAP,GACE;AAAA;AAAA;;;;;;;;KAAA;AAAA,EASA,SAAA,EAAW,SAAE,GAAF,EAAO,GAAP,EAAY,IAAZ,GAAA;AAET,QAAA,IAAA;AAAA,IAAA,IAAG,MAAM,CAAC,QAAP,CAAiB,IAAjB,CAAH;AACE,MAAA,IAAA,GAAO,IAAI,CAAC,QAAL,CAAe,QAAf,CAAP,CAAA;AAAA,MACA,GAAG,CAAC,SAAJ,CAAe,gBAAf,EAAiC,MAAM,CAAC,UAAP,CAAmB,IAAnB,CAAjC,CADA,CAAA;AAEA,aAAO,IAAP,CAHF;KAAA;AAMA,IAAA,IAAG,IAAA,YAAgB,KAAnB;AACE,MAAA,GAAG,CAAC,SAAJ,CAAc,cAAd,EAA8B,4BAA9B,CAAA,CAAA;AAAA,MACA,GAAG,CAAC,UAAJ,GAAiB,IAAI,CAAC,UAAL,IAAmB,GADpC,CAAA;AAAA,MAEA,IAAA,GACE;AAAA,QAAA,MAAA,EAAQ,IAAI,CAAC,QAAb;AAAA,QACA,OAAA,EAAS,IAAI,CAAC,OADd;OAHF,CADF;KAAA,MAAA;AAUE,MAAA,GAAG,CAAC,IAAJ,CAAS,GAAG,CAAC,IAAJ...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/hal.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137032,
	size: 5121,
	blocks: 16,
	atime: new Date('2014-10-13T01:59:48.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
@module joukou-api/hal
@requires lodash
@requires assert-plus
@copyright (c) 2009-2014 Joukou Ltd. All rights reserved.
@author Isaac Johnston <isaac.johnston@joukou.com>

application/hal+json middleware for restify.
 */
var ForbiddenError, assert, regexp, _,
  __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

_ = require('lodash');

assert = require('assert-plus');

regexp = require('./regexp');

ForbiddenError = require('restify').ForbiddenError;

module.exports = {

  /**
  application/hal+json formatter
  @static
  @func formatter
  @param {http.ClientRequest} req
  @param {http.ServerResponse} res
  @param {Object} body
  @return {Object}
   */
  formatter: function(req, res, body) {
    var data;
    if (Buffer.isBuffer(body)) {
      data = body.toString('base64');
      res.setHeader('Content-Length', Buffer.byteLength(data));
      return data;
    }
    if...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/regexp.js.map
contents: {
  "version": 3,
  "file": "regexp.js",
  "sourceRoot": "../src",
  "sources": [
    "regexp.coffee"
  ],
  "names": [],
  "mappings": "AAAA;AAAA;;;;GAAA;AAAA,MAKM,CAAC,OAAP,GACE;AAAA,EAAA,UAAA,EAAY,SAAE,MAAF,EAAU,KAAV,EAAiB,KAAjB,GAAA;AACV,QAAA,cAAA;;MAD2B,QAAQ;KACnC;AAAA,IAAA,OAAA,GAAU,EAAV,CAAA;AACA,WAAM,KAAA,GAAQ,KAAK,CAAC,IAAN,CAAY,MAAZ,CAAd,GAAA;AACE,MAAA,OAAO,CAAC,IAAR,CAAc,KAAO,CAAA,KAAA,CAArB,CAAA,CADF;IAAA,CADA;WAGA,QAJU;EAAA,CAAZ;CANF,CAAA"
}...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/regexp.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137059,
	size: 311,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:48.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: /**
@module joukou-api/regexp
@author Isaac Johnston <isaac.johnston@joukou.com>
@copyright (c) 2009-2014 Joukou Ltd. All rights reserved.
 */
module.exports = {
  getMatches: function(string, regex, index) {
    var match, matches;
    if (index == null) {
      index = 1;
    }
    matches = [];
    while (match = regex.exec(string)) {
      matches.push(match[index]);
    }
    return matches;
  }
};

/*
//# sourceMappingURL=regexp.js.map
*/...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/routes.js.map
contents: {
  "version": 3,
  "file": "routes.js",
  "sourceRoot": "../src",
  "sources": [
    "routes.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;;;;GAFA;AAAA,IAAA,sCAAA;;AAAA,KASA,GAAU,OAAA,CAAS,gBAAT,CATV,CAAA;;AAAA,OAUA,GAAU,OAAA,CAAS,kBAAT,CAVV,CAAA;;AAAA,OAWA,GAAU,OAAA,CAAS,kBAAT,CAXV,CAAA;;AAAA,OAYA,GAAU,OAAA,CAAS,kBAAT,CAZV,CAAA;;AAAA,MAcM,CAAC,OAAP,GAAiB,IAAA,GAEf;AAAA;AAAA;;;KAAA;AAAA,EAIA,cAAA,EAAgB,SAAE,MAAF,GAAA;AACd,IAAA,KAAK,CAAC,cAAN,CAAsB,MAAtB,CAAA,CAAA;AAAA,IACA,OAAO,CAAC,cAAR,CAAwB,MAAxB,CADA,CAAA;AAAA,IAEA,OAAO,CAAC,cAAR,CAAwB,MAAxB,CAFA,CAAA;AAAA,IAGA,OAAO,CAAC,cAAR,CAAwB,MAAxB,CAHA,CAAA;WAKA,MAAM,CAAC,GAAP,CAAY,GAAZ,EAAiB,IAAI,CAAC,KAAtB,EANc;EAAA,CAJhB;AAYA;AAAA;;;;KAZA;AAAA,EAiBA,KAAA,EAAO,SAAE,GAAF,EAAO,GAAP,EAAY,IAAZ,GAAA;AACL,IAAA,GAAG,CAAC,IAAJ,CAAU,QAAV,EAAoB,qBAApB,EAA2C;AAAA,MAAA,KAAA,EAAO,iBAAP;KAA3C,CAAA,CAAA;AAAA,IACA,GAAG,CAAC,IAAJ,CAAU,qBAAV,EAAiC,oBAAjC,EAAuD;AAAA,MAAA,KAAA,EAAO,cAAP;KAAvD,CADA,CAAA;AAAA,IAEA,GAAG,CAAC,IAAJ,CAAU,UAA...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/routes.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137066,
	size: 1072,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:48.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
@module joukou-api/routes
@author Isaac Johnston <isaac.johnston@joukou.com>
@author Juan Morales <juan@joukou.com>
@copyright &copy; 2009-2014 Joukou Ltd. All rights reserved.
 */
var agent, contact, persona, runtime, self;

agent = require('./agent/routes');

contact = require('./contact/routes');

persona = require('./persona/routes');

runtime = require('./runtime/routes');

module.exports = self = {

  /**
  Registers all routes with the `server`.
  @param {joukou-api/server} server
   */
  registerRoutes: function(server) {
    agent.registerRoutes(server);
    contact.registerRoutes(server);
    persona.registerRoutes(server);
    runtime.registerRoutes(server);
    return server.get('/', self.index);
  },

  /*
  @api {get} / Joukou API entry point.
  @apiName EntryPoint
  @apiGroup Joukou
   */
  index: function(req, res, next) {
    res.link('/agent', 'joukou:agent-create', {
      title: 'Create an Agent'
    });
    res.link('/agent/authenticate', 'joukou...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/server.js.map
contents: {
  "version": 3,
  "file": "server.js",
  "sourceRoot": "../src",
  "sources": [
    "server.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;;;;;GAFA;AAAA,IAAA,6DAAA;;AAAA,OAUA,CAAS,oBAAT,CAA+B,CAAC,OAAhC,CAAA,CAVA,CAAA;;AAAA,OAYA,GAAgB,OAAA,CAAS,SAAT,CAZhB,CAAA;;AAAA,KAaA,GAAgB,OAAA,CAAS,SAAT,CAbhB,CAAA;;AAAA,IAcA,GAAgB,OAAA,CAAS,QAAT,CAdhB,CAAA;;AAAA,GAeA,GAAgB,OAAA,CAAS,OAAT,CAfhB,CAAA;;AAAA,GAgBA,GAAgB,OAAA,CAAS,OAAT,CAhBhB,CAAA;;AAAA,MAiBA,GAAgB,OAAA,CAAS,UAAT,CAjBhB,CAAA;;AAAA,aAmBA,GAAgB,OAAA,CAAS,qBAAT,CAnBhB,CAAA;;AAAA,MAqBM,CAAC,OAAP,GAAiB,MAAA,GAAS,OAAO,CAAC,YAAR,CACxB;AAAA,EAAA,IAAA,EAAM,GAAG,CAAC,aAAJ,CAAA,CAAN;AAAA,EACA,OAAA,EAAS,GAAG,CAAC,UAAJ,CAAA,CADT;AAAA,EAEA,UAAA,EACE;AAAA,IAAA,kBAAA,EAAoB,GAAG,CAAC,SAAxB;GAHF;AAAA,EAIA,GAAA,EAAK,aAAa,CAAC,SAAd,CAAyB;AAAA,IAAA,IAAA,EAAM,QAAN;GAAzB,CAJL;AAAA,EAKA,UAAA,EAAY,CACV,kBADU,EAEV,sBAFU,CALZ;CADwB,CArB1B,CAAA;;AAAA,MAiCM,CAAC,GAAP,CAAY,IAAI,CAAC,SAAjB,CAjCA,CAAA;;AAAA,MAkCM,CAAC,GAAP,CAAY,IAAI,CAAC,MAAjB...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/server.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137071,
	size: 1576,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:48.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
@module joukou-api/server
@requires source-map-support
@requires restify
@author Isaac Johnston <isaac.johnston@joukou.com>
@copyright &copy; 2009-2014 Joukou Ltd. All rights reserved.
 */
var LoggerFactory, authn, cors, env, hal, restify, routes, server;

require('source-map-support').install();

restify = require('restify');

authn = require('./authn');

cors = require('./cors');

env = require('./env');

hal = require('./hal');

routes = require('./routes');

LoggerFactory = require('./log/LoggerFactory');

module.exports = server = restify.createServer({
  name: env.getServerName(),
  version: env.getVersion(),
  formatters: {
    'application/json': hal.formatter
  },
  log: LoggerFactory.getLogger({
    name: 'server'
  }),
  acceptable: ['application/json', 'application/hal+json']
});

server.pre(cors.preflight);

server.use(cors.actual);

server.use(restify.acceptParser(server.acceptable));

server.use(restify.dateParser());

server.use(restify.queryParser())...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/agent/Model.js.map


contents: {
  "version": 3,
  "file": "Model.js",
  "sourceRoot": "../../src/agent",
  "sources": [
    "model.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;;;;;;;;;;;;;;;;GAFA;AAAA,IAAA,oDAAA;;AAAA,CAqBA,GAAkB,OAAA,CAAS,QAAT,CArBlB,CAAA;;AAAA,CAsBA,GAAkB,OAAA,CAAS,GAAT,CAtBlB,CAAA;;AAAA,MAuBA,GAAkB,OAAA,CAAS,QAAT,CAvBlB,CAAA;;AAAA,MAwBA,GAAkB,OAAA,CAAS,UAAT,CAxBlB,CAAA;;AAAA,KAyBA,GAAkB,OAAA,CAAS,eAAT,CAzBlB,CAAA;;AAAA,WA0BA,GAAkB,OAAA,CAAS,sBAAT,CA1BlB,CAAA;;AAAA,UA4BA,GAAkB,KAAK,CAAC,MAAN,CAChB;AAAA,EAAA,MAAA,EAAQ,MAAR;AAAA,EACA,IAAA,EAAM,OADN;AAAA,EAEA,MAAA,EAAQ,OAFR;CADgB,CA5BlB,CAAA;;AAkCA;AAAA;;GAlCA;;AAAA,UAqCU,CAAC,WAAX,GAAyB,SAAE,KAAF,GAAA;AACvB,MAAA,QAAA;AAAA,EAAA,QAAA,GAAW,CAAC,CAAC,KAAF,CAAA,CAAX,CAAA;AAAA,EAEA,KAAK,CAAC,iBAAN,CAAyB,OAAzB,CAFA,CAAA;AAAA,EAGA,KAAK,CAAC,iBAAN,CAAyB,WAAzB,CAHA,CAAA;AAMA;AAAA;;;;;;;;;;;;;KANA;AAAA,EAqBA,QAAQ,CAAC,OAAT,CAAiB,KAAjB,CArBA,CAAA;SAuBA,QAAQ,CAAC,QAxBc;AAAA,CArCzB,CAAA;;AA+DA;AAAA;;;;GA/DA;;AAAA,UAoEU,CAAA,SAAE,CAAA,cAAZ...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/agent/Model.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137017,
	size: 2956,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:48.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
An agent is authorized to act on behalf of a persona (called the principal).
By way of a relationship between the principal and an agent the principal
authorizes the agent to work under his control and on his behalf.

Latin: qui facit per alium, facit per se, i.e. the one who acts through
another, acts in his or her own interests.

@class joukou-api/agent/Model
@requires joukou-api/agent/schema
@requires joukou-api/riak/Model
@requires joukou-api/error/BcryptError
@requires lodash
@requires q
@requires bcrypt
@author Isaac Johnston <isaac.johnston@joukou.com>
@copyright (c) 2009-2014 Joukou Ltd. All rights reserved.
 */
var AgentModel, BcryptError, Model, Q, bcrypt, schema, _;

_ = require('lodash');

Q = require('q');

bcrypt = require('bcrypt');

schema = require('./schema');

Model = require('../riak/Model');

BcryptError = require('../error/BcryptError');

AgentModel = Model.define({
  schema: schema,
  type: 'agent',
  bucket: 'agent'
});


/**
After creating an...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/agent/routes.js.map
contents: {
  "version": 3,
  "file": "routes.js",
  "sourceRoot": "../../src/agent",
  "sources": [
    "routes.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;;;;;;;;;;;GAFA;AAAA,IAAA,gHAAA;;AAAA,CAgBA,GAAgB,OAAA,CAAS,QAAT,CAhBhB,CAAA;;AAAA,GAiBA,GAAgB,OAAA,CAAS,cAAT,CAjBhB,CAAA;;AAAA,KAkBA,GAAgB,OAAA,CAAS,UAAT,CAlBhB,CAAA;;AAAA,KAmBA,GAAgB,OAAA,CAAS,UAAT,CAnBhB,CAAA;;AAAA,MAoBA,GAAgB,OAAA,CAAS,WAAT,CApBhB,CAAA;;AAAA,UAqBA,GAAgB,OAAA,CAAS,SAAT,CArBhB,CAAA;;AAAA,OAsBuC,OAAA,CAAS,SAAT,CAAvC,EAAE,yBAAA,iBAAF,EAAqB,qBAAA,aAtBrB,CAAA;;AAAA,GAuBA,GAAgB,OAAA,CAAS,QAAT,CAvBhB,CAAA;;AAAA,QAwBA,GAAgB,OAAA,CAAQ,UAAR,CAxBhB,CAAA;;AAAA,SAyBA,GAAgB,GAAG,CAAC,aAAJ,CAAA,CAzBhB,CAAA;;AAAA,MA2BM,CAAC,OAAP,GAAiB,IAAA,GACf;AAAA;AAAA;;;KAAA;AAAA,EAIA,cAAA,EAAgB,SAAE,MAAF,GAAA;AACd,IAAA,MAAM,CAAC,GAAP,CAAa,QAAb,EAAuB,KAAK,CAAC,YAA7B,EAA2C,IAAI,CAAC,QAAD,CAA/C,CAAA,CAAA;AAAA,IACA,MAAM,CAAC,GAAP,CAAa,QAAb,EAAuB,KAAK,CAAC,YAA7B,EAA2C,IAAI,CAAC,KAAhD,CADA,CAAA;AAAA,IAEA,MAAM,CAAC,IAAP,CAAa,QAAb,EAA...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/agent/routes.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137018,
	size: 3941,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:48.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
{@link module:joukou-api/agent/Model|Agent} routes.

@module joukou-api/agent/routes
@requires lodash
@requires jsonwebtoken
@requires joukou-api/config
@requires joukou-api/authn
@requires joukou-api/authz
@requires joukou-api/agent/Model
@author Isaac Johnston <isaac.johnston@joukou.com>
@copyright &copy; 2009-2014 Joukou Ltd. All rights reserved.
 */
var AgentModel, NotFoundError, UnauthorizedError, authn, authz, config, env, githubEnv, jwt, passport, self, _, _ref;

_ = require('lodash');

jwt = require('jsonwebtoken');

authn = require('../authn');

authz = require('../authz');

config = require('../config');

AgentModel = require('./Model');

_ref = require('restify'), UnauthorizedError = _ref.UnauthorizedError, NotFoundError = _ref.NotFoundError;

env = require('../env');

passport = require('passport');

githubEnv = env.getGithubAuth();

module.exports = self = {

  /**
  Register the `/agent` routes with the `server`.
  @param {joukou-api/server} server
   *...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/agent/schema.js.map
contents: {
  "version": 3,
  "file": "schema.js",
  "sourceRoot": "../../src/agent",
  "sources": [
    "schema.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;;;;GAFA;AAAA,IAAA,MAAA;;AAAA,MASA,GAAS,OAAA,CAAS,UAAT,CATT,CAAA;;AAUA;AAAA;;;;;;;;;;GAVA;;AAAA,MAqBM,CAAC,OAAP,GAAiB,MAAM,CAAC,MAAP,CACf;AAAA,EAAA,KAAA,EACE;AAAA,IAAA,IAAA,EAAM,OAAN;AAAA,IACA,QAAA,EAAU,IADV;AAAA,IAEA,SAAA,EAAW,KAFX;AAAA,IAGA,OAAA,EAAS,CAAE,MAAF,CAHT;GADF;AAAA,EAKA,YAAA,EACE;AAAA,IAAA,IAAA,EAAM,QAAN;AAAA,IACA,QAAA,EAAU,KADV;AAAA,IAEA,SAAA,EAAW,IAFX;GANF;AAAA,EASA,SAAA,EACE;AAAA,IAAA,IAAA,EAAM,SAAN;AAAA,IACA,QAAA,EAAU,KADV;AAAA,IAEA,SAAA,EAAW,IAFX;GAVF;AAAA,EAaA,SAAA,EACE;AAAA,IAAA,IAAA,EAAM,QAAN;AAAA,IACA,QAAA,EAAU,KADV;AAAA,IAEA,SAAA,EAAW,KAFX;GAdF;AAAA,EAiBA,OAAA,EACE;AAAA,IAAA,IAAA,EAAM,KAAN;AAAA,IACA,QAAA,EAAU,KADV;AAAA,IAEA,SAAA,EAAW,KAFX;GAlBF;AAAA,EAqBA,UAAA,EACE;AAAA,IAAA,IAAA,EAAM,KAAN;AAAA,IACA,QAAA,EAAU,KADV;AAAA,IAEA,SAAA,EAAW,KAFX;GAtBF;AAAA,EAyBA,IAAA,EACE;AAAA,IAAA,IAAA,EAAM,QAAN;AAAA,I...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/agent/schema.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137019,
	size: 1195,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:48.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
@module joukou-api/agent/schema
@requires schemajs
@author Isaac Johnston <isaac.johnston@joukou.com>
@copyright (c) 2009-2014 Joukou Ltd. All rights reserved.
 */
var schema;

schema = require('schemajs');


/*
agent.email = profile.email
agent.githubLogin = profile.login
agent.githubId = profile.id
agent.imageUrl = profile.avatar_url
agent.website = profile.blog
agent.githubUrl = profile.url
agent.name = profile.name
agent.company = profile.company
agent.location = profile.location
 */

module.exports = schema.create({
  email: {
    type: 'email',
    required: true,
    allownull: false,
    filters: ['trim']
  },
  github_login: {
    type: 'string',
    required: false,
    allownull: true
  },
  github_id: {
    type: 'integer',
    required: false,
    allownull: true
  },
  image_url: {
    type: 'string',
    required: false,
    allownull: false
  },
  website: {
    type: 'url',
    required: false,
    allownull: false
  },
  github_url: {
    type: 'url...

[15:00:59] Finished 'rename-html-to-xml:build' after 250 ms
[15:00:59] Starting 'delete-html:build'...
[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/contact/routes.js.map
contents: {
  "version": 3,
  "file": "routes.js",
  "sourceRoot": "../../src/contact",
  "sources": [
    "routes.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;;;;;;;GAFA;AAYA;AAAA;;;;;;;;;;;;;;;;;;;GAZA;AAAA,IAAA,yBAAA;;AAAA,MAiCA,GAAS,OAAA,CAAS,WAAT,CAjCT,CAAA;;AAAA,MAkCA,GAAS,OAAA,CAAS,YAAT,CAlCT,CAAA;;AAAA,GAmCA,GAAO,OAAA,CAAS,sBAAT,CAAiC,CAAC,SAAlC,CAA6C;AAAA,EAAA,IAAA,EAAM,QAAN;CAA7C,CAnCP,CAAA;;AAAA,IAsCA,GAAO,MAAM,CAAC,OAAP,GACL;AAAA;AAAA;;;KAAA;AAAA,EAIA,cAAA,EAAgB,SAAE,MAAF,GAAA;WACd,MAAM,CAAC,IAAP,CAAa,UAAb,EAAyB,IAAI,CAAC,QAA9B,EADc;EAAA,CAJhB;AAOA;AAAA;;;;;KAPA;AAAA,EAaA,QAAA,EAAU,SAAE,GAAF,EAAO,GAAP,GAAA;AACR,QAAA,+CAAA;AAAA,IAAA,IAAA,GAAO,MAAM,CAAC,eAAP,CACL,MAAM,CAAC,MAAM,CAAC,SADT,EACoB,MAAM,CAAC,MAAM,CAAC,iBADlC,CAAP,CAAA;AAAA,IAGA,IAAA,yCAAuB,CAAE,gBAAlB,GAA8B,GAAG,CAAC,IAAI,CAAC,IAAvC,GAAiD,WAHxD,CAAA;AAKA,IAAA,8CAAmB,CAAE,eAArB;AACE,MAAA,OAAA,GAAW,sBAAA,GAAqB,IAAhC,CAAA;AAAA,MACA,IAAA,GAAO,EAAA,GACb,GAAG,CAAC,IAAI,CAAC,OADI,GACK,YADL,GACc,IADd,GAEb,WA...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/contact/routes.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137026,
	size: 2546,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:48.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
Simple contact service for sending an email to Joukou.

@module joukou-api/routes/contact
@requires joukou-api/config
@requires nodemailer
@author Isaac Johnston <isaac.johnston@joukou.com>
@copyright &copy; 2009-2014 Joukou Ltd. All rights reserved.
 */

/*
@api {post} /contact Send a message to Joukou staff
@apiName Contact
@apiGroup Contact

@apiParam {String} name The name of the person sending the message
@apiParam {String} email The email address of the person sending the message
@apiParam {String} message The plaintext content of the message

@apiExample CURL Example:
  curl -i -X POST https://api.joukou.com/contact \
    -H 'Content-Type: application/json' \
    -d '{ "name": "Isaac Johnston", "email": "isaac.johnston@joukou.com", "message": "API Example" }'

@apiSuccess (201) Created The message has been sent successfully.

@apiError (429) TooManyRequests The client has sent too many requests in a given amount of time.

@apiError (503) ServiceUnavailable The...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/error/BcryptError.js.map
contents: {
  "version": 3,
  "file": "BcryptError.js",
  "sourceRoot": "../../src/error",
  "sources": [
    "BcryptError.coffee"
  ],
  "names": [],
  "mappings": "AAAA;AAAA;;;;;GAAA;AAAA,IAAA,eAAA;EAAA;iSAAA;;AAAA,YAOgB,OAAA,CAAS,SAAT,EAAd,SAPF,CAAA;;AAAA,MASM,CAAC,OAAP,GAAiB,IAAA;AACf,2BAAA,CAAA;;AAAa,EAAA,gBAAG,aAAH,GAAA;AACX,IADa,IAAC,CAAA,gBAAA,aACd,CAAA;AAAA,IAAA,wCACE;AAAA,MAAA,QAAA,EAAU,eAAV;AAAA,MACA,UAAA,EAAY,GADZ;AAAA,MAEA,OAAA,EAAS,EAFT;AAAA,MAGA,cAAA,EAAgB,IAHhB;KADF,CAAA,CADW;EAAA,CAAb;;gBAAA;;GADoC,UATtC,CAAA"
}...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/error/BcryptError.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137030,
	size: 428,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:48.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: /**
@class joukou-api/error/BcryptError
@extends restify/RestError
@author Isaac Johnston <isaac.johnston@joukou.com>
@copyright (c) 2009-2013 Joukou Ltd. All rights reserved.
 */
var RestError, self,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

RestError = require('restify').RestError;

module.exports = self = (function(_super) {
  __extends(_Class, _super);

  function _Class(originalError) {
    this.originalError = originalError;
    _Class.__super__.constructor.call(this, {
      restCode: 'InternalError',
      statusCode: 503,
      message: '',
      constructorOpt: self
    });
  }

  return _Class;

})(RestError);

/*
//# sourceMappingURL=BcryptError.js.map
*/...

[15:00:59] Finished 'delete-html:build' after 31 ms
[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/error/DuplicateError.js.map
contents: {
  "version": 3,
  "file": "DuplicateError.js",
  "sourceRoot": "../../src/error",
  "sources": [
    "DuplicateError.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;;;;GAFA;AAAA,IAAA,SAAA;EAAA;iSAAA;;AAAA,YASgB,OAAA,CAAS,SAAT,EAAd,SATF,CAAA;;AAAA,MAWM,CAAC,OAAP;AAEE;AAAA;;;;KAAA;AAAA,MAAA,IAAA;;AAAA,2BAAA,CAAA;;AAAA,EAKA,IAAA,GAAO,MALP,CAAA;;AAOA;AAAA;;;KAPA;;AAWa,EAAA,gBAAE,SAAF,GAAA;AACX,IADY,IAAC,CAAA,YAAA,SACb,CAAA;AAAA,IAAA,wCACE;AAAA,MAAA,QAAA,EAAU,gBAAV;AAAA,MACA,UAAA,EAAY,GADZ;AAAA,MAEA,OAAA,EAAS,IAAC,CAAA,SAFV;AAAA,MAGA,cAAA,EAAgB,IAAI,CAAC,cAHrB;KADF,CAAA,CADW;EAAA,CAXb;;gBAAA;;GAF6B,UAX/B,CAAA"
}...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/error/DuplicateError.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137031,
	size: 609,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:48.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
@class joukou-api/error/DuplicateError
@extends restify/RestError
@author Isaac Johnston <isaac.johnston@joukou.com>
@copyright (c) 2009-2014 Joukou Ltd. All rights reserved.
 */
var RestError,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

RestError = require('restify').RestError;

module.exports = (function(_super) {

  /**
  @private
  @static
  @property {joukou-api.error.DuplicateError} self
   */
  var self;

  __extends(_Class, _super);

  self = _Class;


  /**
  @method constructor
  @param {String} indexName
   */

  function _Class(indexName) {
    this.indexName = indexName;
    _Class.__super__.constructor.call(this, {
      restCode: 'DuplicateError',
      statusCode: 409,...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/hyper/Link.js.map
contents: {
  "version": 3,
  "file": "Link.js",
  "sourceRoot": "../../src/hyper",
  "sources": [
    "Link.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;;;GAFA;AAAA,MAQM,CAAC,OAAP;AAEe,EAAA,gBAAE,IAAF,GAAA;AAA4E,IAAxE,IAAC,CAAA,WAAA,KAAK,IAAC,CAAA,YAAA,MAAM,IAAC,CAAA,iBAAA,WAAW,IAAC,CAAA,YAAA,MAAM,IAAC,CAAA,YAAA,MAAM,IAAC,CAAA,eAAA,SAAS,IAAC,CAAA,aAAA,OAAO,IAAC,CAAA,gBAAA,QAAc,CAA5E;EAAA,CAAb;;gBAAA;;IAVF,CAAA"
}...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/hyper/Link.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137034,
	size: 281,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:48.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
@class joukou-api/hyper/Link
@author Isaac Johnston <isaac.johnston@joukou.com>
@copyright &copy; 2009-2014 Joukou Ltd. All rights reserved.
 */
module.exports = (function() {
  function _Class(_arg) {
    this.rel = _arg.rel, this.href = _arg.href, this.templated = _arg.templated, this.type = _arg.type, this.name = _arg.name, this.profile = _arg.profile, this.title = _arg.title, this.hreflang = _arg.hreflang;
  }

  return _Class;

})();

/*
//# sourceMappingURL=Link.js.map
*/...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/hyper/Schema.js.map
contents: {
  "version": 3,
  "file": "Schema.js",
  "sourceRoot": "../../src/hyper",
  "sources": [
    "Schema.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;;;GAFA;AAAA,MAQM,CAAC,OAAP;AAEe,EAAA,gBAAG,MAAH,GAAA;AAAa,IAAX,IAAC,CAAA,SAAA,MAAU,CAAb;EAAA,CAAb;;gBAAA;;IAVF,CAAA"
}...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/hyper/Schema.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137035,
	size: 220,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:48.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
@class joukou-api/hyper/Schema
@author Isaac Johnston <isaac.johnston@joukou.com>
@copyright &copy; 2009-2014 Joukou Ltd. All rights reserved.
 */
module.exports = (function() {
  function _Class(schema) {
    this.schema = schema;
  }

  return _Class;

})();

/*
//# sourceMappingURL=Schema.js.map
*/...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/log/LoggerFactory.js.map
contents: {
  "version": 3,
  "file": "LoggerFactory.js",
  "sourceRoot": "../../src/log",
  "sources": [
    "LoggerFactory.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;;;;;GAFA;AAAA,MASM,CAAC,OAAP,GAAiB,GAAA,CAAA;AAEf;AAAA;;;;KAAA;AAAA,MAAA,qBAAA;;AAAA,EAKA,MAAA,GAAU,OAAA,CAAS,QAAT,CALV,CAAA;;AAOA;AAAA;;;;KAPA;;AAAA,EAYA,IAAA,GAAU,OAAA,CAAS,MAAT,CAZV,CAAA;;AAcA;AAAA;;;;KAdA;;AAAA,EAmBA,OAAA,GAAU,EAnBV,CAAA;;AAqBA;AAAA;;KArBA;;AAwBa,EAAA,gBAAA,GAAA;AACX,IAAA,IAAG,OAAO,CAAC,GAAG,CAAC,QAAZ,KAAwB,YAA3B;AACE,MAAA,IAAC,CAAA,QAAD,GAAY,MAAM,CAAC,IAAnB,CADF;KAAA,MAAA;AAGE,MAAA,IAAC,CAAA,QAAD,GAAY,MAAM,CAAC,IAAnB,CAHF;KADW;EAAA,CAxBb;;AA8BA;AAAA;;;KA9BA;;AAAA,mBAkCA,SAAA,GAAW,SAAE,MAAF,GAAA;AACT,IAAA,IAAA,CAAA,OAAgB,CAAA,MAAM,CAAC,IAAP,CAAhB;aACE,OAAS,CAAA,MAAM,CAAC,IAAP,CAAT,GAAyB,IAAC,CAAA,YAAD,CAAe,MAAf,EAD3B;KAAA,MAAA;aAGE,OAAS,CAAA,MAAM,CAAC,IAAP,EAHX;KADS;EAAA,CAlCX,CAAA;;AAwCA;AAAA;;;KAxCA;;AAAA,mBA4CA,YAAA,GAAc,SAAE,MAAF,GAAA;WACZ,MAAM,CAAC,YAAP,CACE;AAAA,MAAA,IAAA,EAAM,M...

[15:00:59] -------------------------------
[15:00:59]         physical lines : 2780
[15:00:59]   lines of source code : 1609
[15:00:59]          total comment : 772
[15:00:59]             singleline : 48
[15:00:59]              multiline : 724
[15:00:59]                  empty : 399
[15:00:59] 
[15:00:59]   number of files read : 40
[15:00:59]            strict mode 
[15:00:59] -------------------------------
[15:00:59] Finished 'sloc' after 1.49 s
[15:00:59] Finished 'coffeelint' after 1.48 s
[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/log/LoggerFactory.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137037,
	size: 1121,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:48.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
@class joukou-api/log/LoggerFactory
@requires bunyan
@requires path
@author Isaac Johnston <isaac.johnston@joukou.com>
@copyright (c) 2009-2014 Joukou Ltd. All rights reserved.
 */
module.exports = new ((function() {

  /**
  @private
  @static
  @property {bunyan} bunyan
   */
  var bunyan, loggers, path;

  bunyan = require('bunyan');


  /**
  @private
  @static
  @property {path} path
   */

  path = require('path');


  /**
  @private
  @static
  @property {Object} loggers
   */

  loggers = {};


  /**
  @method constructor
   */

  function _Class() {
    if (process.env.NODE_ENV === 'production') {
      this.logLevel = bunyan.INFO;
    } else {
      this.logLevel = bunyan.INFO;
    }
  }


  /**
  @method getLogger
  @param {Object} config
   */

  _Class.prototype.getLogger = function(config) {
    if (!loggers[config.name]) {
      return loggers[config.name] = this.createLogger(config);
    } else {
      return loggers[config.name];
    }
  };


  /**...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/persona/Model.js.map
contents: {
  "version": 3,
  "file": "Model.js",
  "sourceRoot": "../../src/persona",
  "sources": [
    "model.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;;;;;;;GAFA;AAAA,IAAA,iCAAA;;AAAA,CAYA,GAAU,OAAA,CAAS,QAAT,CAZV,CAAA;;AAAA,CAaA,GAAU,OAAA,CAAS,GAAT,CAbV,CAAA;;AAAA,KAcA,GAAU,OAAA,CAAS,eAAT,CAdV,CAAA;;AAAA,MAeA,GAAU,OAAA,CAAS,UAAT,CAfV,CAAA;;AAAA,YAiBA,GAAe,KAAK,CAAC,MAAN,CACb;AAAA,EAAA,IAAA,EAAM,SAAN;AAAA,EACA,MAAA,EAAQ,SADR;AAAA,EAEA,MAAA,EAAQ,MAFR;CADa,CAjBf,CAAA;;AAAA,YAuBY,CAAA,SAAE,CAAA,OAAd,GAAwB,SAAA,GAAA;SACtB,IAAC,CAAA,QAAD,CAAA,CAAW,CAAC,KADU;AAAA,CAvBxB,CAAA;;AAAA,MA0BM,CAAC,OAAP,GAAiB,YA1BjB,CAAA"
}...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/persona/Model.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137039,
	size: 617,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:48.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
persona is from greek pros≈çpon meaning "mask" or "character". Personas are a
legal person (Latin: persona ficta) or a natural person
(Latin: persona naturalis).

@class joukou-api/persona/Model
@copyright (c) 2009-2014 Joukou Ltd. All rights reserved.
@author Isaac Johnston <isaac.johnston@joukou.com>
 */
var Model, PersonaModel, Q, schema, _;

_ = require('lodash');

Q = require('q');

Model = require('../riak/Model');

schema = require('./schema');

PersonaModel = Model.define({
  type: 'persona',
  bucket: 'persona',
  schema: schema
});

PersonaModel.prototype.getName = function() {
  return this.getValue().name;
};

module.exports = PersonaModel;

/*
//# sourceMappingURL=Model.js.map
*/...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/persona/routes.js.map
contents: {
  "version": 3,
  "file": "routes.js",
  "sourceRoot": "../../src/persona",
  "sources": [
    "routes.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;;;;;;;;;GAFA;AAAA,IAAA,qFAAA;;AAAA,CAcA,GAAgB,OAAA,CAAS,QAAT,CAdhB,CAAA;;AAAA,KAeA,GAAgB,OAAA,CAAS,OAAT,CAfhB,CAAA;;AAAA,KAgBA,GAAgB,OAAA,CAAS,UAAT,CAhBhB,CAAA;;AAAA,KAiBA,GAAgB,OAAA,CAAS,UAAT,CAjBhB,CAAA;;AAAA,GAkBA,GAAgB,OAAA,CAAS,QAAT,CAlBhB,CAAA;;AAAA,OAmBA,GAAgB,OAAA,CAAS,SAAT,CAnBhB,CAAA;;AAAA,aAoBA,GAAgB,OAAA,CAAS,iBAAT,CApBhB,CAAA;;AAAA,YAqBA,GAAgB,OAAA,CAAS,gBAAT,CArBhB,CAAA;;AAAA,YAsBA,GAAgB,OAAA,CAAS,SAAT,CAtBhB,CAAA;;AAAA,MAwBM,CAAC,OAAP,GAAiB,IAAA,GAEf;AAAA;AAAA;;;KAAA;AAAA,EAIA,cAAA,EAAgB,SAAE,MAAF,GAAA;AACd,IAAA,MAAM,CAAC,GAAP,CAAa,UAAb,EAAyB,KAAK,CAAC,YAA/B,EAA6C,IAAI,CAAC,KAAlD,CAAA,CAAA;AAAA,IACA,MAAM,CAAC,IAAP,CAAa,UAAb,EAAyB,KAAK,CAAC,YAA/B,EAA6C,IAAI,CAAC,MAAlD,CADA,CAAA;AAAA,IAEA,MAAM,CAAC,GAAP,CAAa,eAAb,EAA8B,KAAK,CAAC,YAApC,EAAkD,IAAI,CAAC,QAAvD,CAFA,CAAA;AAAA,IAGA,aAAa,CAAC,cAAd,CAA8B,MAA9B...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/persona/routes.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137056,
	size: 6223,
	blocks: 16,
	atime: new Date('2014-10-13T01:59:48.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
{@link module:joukou-api/personas/Model|Persona} routes.

@module joukou-api/persona/routes
@requires lodash
@requires joukou-api/authn
@requires joukou-api/authz
@requires joukou-api/persona/Model
@author Isaac Johnston <isaac.johnston@joukou.com>
@copyright (c) 2009-2014 Joukou Ltd. All rights reserved.
 */
var PersonaModel, async, authn, authz, circle_routes, graph_routes, hal, request, self, _;

_ = require('lodash');

async = require('async');

authn = require('../authn');

authz = require('../authz');

hal = require('../hal');

request = require('request');

circle_routes = require('./circle/routes');

graph_routes = require('./graph/routes');

PersonaModel = require('./Model');

module.exports = self = {

  /**
  Register `/persona` routes with the `server`.
  @param {joukou-api/server} server
   */
  registerRoutes: function(server) {
    server.get('/persona', authn.authenticate, self.index);
    server.post('/persona', authn.authenticate, self.create);...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/persona/schema.js.map
contents: {
  "version": 3,
  "file": "schema.js",
  "sourceRoot": "../../src/persona",
  "sources": [
    "schema.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;;;GAFA;AAAA,IAAA,MAAA;;AAAA,MAQA,GAAS,OAAA,CAAS,UAAT,CART,CAAA;;AAAA,MAUM,CAAC,OAAP,GAAiB,MAAM,CAAC,MAAP,CACf;AAAA,EAAA,IAAA,EACE;AAAA,IAAA,IAAA,EAAM,SAAN;AAAA,IACA,QAAA,EAAU,IADV;AAAA,IAEA,SAAA,EAAW,KAFX;AAAA,IAGA,OAAA,EAAS,CAAE,MAAF,CAHT;GADF;AAAA,EAKA,MAAA,EACE;AAAA,IAAA,IAAA,EAAM,OAAN;GANF;CADe,CAVjB,CAAA"
}...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/persona/schema.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137057,
	size: 352,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:48.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
@module joukou-api/persona/schema
@copyright (c) 2009-2014 Joukou Ltd. All rights reserved.
@author Isaac Johnston <isaac.johnston@joukou.com>
 */
var schema;

schema = require('schemajs');

module.exports = schema.create({
  name: {
    type: 'string+',
    required: true,
    allownull: false,
    filters: ['trim']
  },
  agents: {
    type: 'array'
  }
});

/*
//# sourceMappingURL=schema.js.map
*/...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/riak/Model.js.map
contents: {
  "version": 3,
  "file": "Model.js",
  "sourceRoot": "../../src/riak",
  "sources": [
    "model.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;;;;;;;;;;;;;;;;GAFA;AAAA,IAAA,wEAAA;EAAA;iSAAA;;AAAA,eAqBmB,OAAA,CAAS,QAAT,EAAjB,YArBF,CAAA;;AAAA,CAsBA,GAAmB,OAAA,CAAS,QAAT,CAtBnB,CAAA;;AAAA,CAuBA,GAAmB,OAAA,CAAS,GAAT,CAvBnB,CAAA;;AAAA,IAwBA,GAAmB,OAAA,CAAS,WAAT,CAxBnB,CAAA;;AAAA,gBAyBoB,OAAA,CAAS,SAAT,EAAlB,aAzBF,CAAA;;AAAA,eA0BA,GAAmB,OAAA,CAAS,mBAAT,CA1BnB,CAAA;;AAAA,SA2BA,GAAmB,OAAA,CAAS,aAAT,CA3BnB,CAAA;;AAAA,GA4BA,GAAmB,OAAA,CAAS,OAAT,CA5BnB,CAAA;;AAAA,MA8BM,CAAC,OAAP,GAEE;AAAA,EAAA,MAAA,EAAQ,SAAE,IAAF,GAAA;AAEN,QAAA,oBAAA;AAAA,IAFU,YAAA,MAAM,cAAA,QAAQ,cAAA,MAExB,CAAA;;MAAA,OAAQ;KAAR;AAEA,IAAA,IAAA,CAAA,CAAQ,CAAC,QAAF,CAAY,MAAZ,CAAP;AACE,YAAU,IAAA,SAAA,CAAW,sBAAX,CAAV,CADF;KAFA;AAKA,IAAA,IAAA,CAAA,CAAO,CAAC,CAAC,QAAF,CAAY,MAAZ,CAAA,IAAyB,CAAC,CAAC,UAAF,CAAc,MAAM,CAAC,QAArB,CAAhC,CAAA;AACE,YAAU,IAAA,SAAA,CAAW,+BAAX,CAAV,CADF;KALA;;AAUE,UAAA,IAAA;;AAAA,+BAAA,CAAA...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/riak/Model.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137061,
	size: 9149,
	blocks: 24,
	atime: new Date('2014-10-13T01:59:48.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
Lightweight model client for Basho Riak 2.0

Prefers the protocol buffers API, but may fall back to the HTTP API for missing
functionality.

Search is supported via solr-client.

@class joukou-api/riak/Model
@extends events.EventEmitter
@requires lodash
@requires q
@requires node-uuid
@requires riakpbc
@requires solr-client
@author Isaac Johnston <isaac.johnston@joukou.com>
@copyright (c) 2009-2014 Joukou Ltd. All rights reserved.
 */
var EventEmitter, NotFoundError, Q, RiakError, ValidationError, pbc, uuid, _,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

EventEmitter = require('events').EventEmitter;

_ = require('lodash');

Q = require('q');

uuid = require('node-uuid');

NotFoundError = re...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/riak/RiakError.js.map
contents: {
  "version": 3,
  "file": "RiakError.js",
  "sourceRoot": "../../src/riak",
  "sources": [
    "RiakError.coffee"
  ],
  "names": [],
  "mappings": "AAAA;AAAA;;;;;GAAA;AAAA,IAAA,eAAA;EAAA;iSAAA;;AAAA,YAOgB,OAAA,CAAS,SAAT,EAAd,SAPF,CAAA;;AAAA,MASM,CAAC,OAAP,GAAiB,IAAA;AACf,2BAAA,CAAA;;AAAa,EAAA,gBAAG,aAAH,GAAA;AACX,IADa,IAAC,CAAA,gBAAA,aACd,CAAA;AAAA,IAAA,wCACE;AAAA,MAAA,QAAA,EAAU,eAAV;AAAA,MACA,UAAA,EAAY,GADZ;AAAA,MAEA,OAAA,EAAS,mHAFT;AAAA,MAGA,cAAA,EAAgB,IAHhB;KADF,CAAA,CAAA;AAAA,IAMA,IAAI,CAAC,UAAL,GAAkB,aANlB,CAAA;AAOA,UAAA,CARW;EAAA,CAAb;;gBAAA;;GADoC,UATtC,CAAA"
}...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/riak/RiakError.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137062,
	size: 577,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:49.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: /**
@class joukou-api/riak/RiakError
@extends restify/RestError
@author Isaac Johnston <isaac.johnston@joukou.com>
@copyright (c) 2009-2014 Joukou Ltd. All rights reserved.
 */
var RestError, self,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

RestError = require('restify').RestError;

module.exports = self = (function(_super) {
  __extends(_Class, _super);

  function _Class(originalError) {
    this.originalError = originalError;
    _Class.__super__.constructor.call(this, {
      restCode: 'InternalError',
      statusCode: 503,
      message: 'The server is currently unable to handle the request due to a temporary overloading or maintenance of the server.',
      constructorOpt: self
    });
    self.InnerE...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/riak/ValidationError.js.map
contents: {
  "version": 3,
  "file": "ValidationError.js",
  "sourceRoot": "../../src/riak",
  "sources": [
    "ValidationError.coffee"
  ],
  "names": [],
  "mappings": "AAAA;AAAA;;;;;GAAA;AAAA,IAAA,eAAA;EAAA;iSAAA;;AAAA,YAOgB,OAAA,CAAS,SAAT,EAAd,SAPF,CAAA;;AAAA,MASM,CAAC,OAAP,GAAiB,IAAA;AACf,2BAAA,CAAA;;AAAa,EAAA,gBAAE,MAAF,GAAA;AACX,IAAA,wCACE;AAAA,MAAA,QAAA,EAAU,gBAAV;AAAA,MACA,UAAA,EAAY,GADZ;AAAA,MAEA,OAAA,EAAS,IAAI,CAAC,SAAL,CAAgB,MAAhB,CAFT;AAAA,MAGA,cAAA,EAAgB,IAHhB;KADF,CAAA,CAAA;AAMA,UAAA,CAPW;EAAA,CAAb;;gBAAA;;GADoC,UATtC,CAAA"
}...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/riak/ValidationError.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137063,
	size: 449,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:49.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: /**
@class joukou-api/riak/ValidationError
@extends restify/RestError
@author Isaac Johnston <isaac.johnston@joukou.com>
@copyright (c) 2009-2014 Joukou Ltd. All rights reserved.
 */
var RestError, self,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

RestError = require('restify').RestError;

module.exports = self = (function(_super) {
  __extends(_Class, _super);

  function _Class(errors) {
    _Class.__super__.constructor.call(this, {
      restCode: 'ForbiddenError',
      statusCode: 403,
      message: JSON.stringify(errors),
      constructorOpt: self
    });
    return;
  }

  return _Class;

})(RestError);

/*
//# sourceMappingURL=ValidationError.js.map
*/...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/riak/mapred.js.map
contents: {
  "version": 3,
  "file": "mapred.js",
  "sourceRoot": "../../src/riak",
  "sources": [
    "mapred.coffee"
  ],
  "names": [],
  "mappings": "AAEA,OAAA,CACE;AAAA,EAAA,GAAA,EAAK,8BAAL;AAAA,EACA,MAAA,EAAQ,MADR;AAAA,EAEA,IAAA,EACE;AAAA,IAAA,MAAA,EACE;AAAA,MAAA,MAAA,EAAQ,UAAR;AAAA,MACA,UAAA,EAAU,eADV;AAAA,MAEA,GAAA,EAAK,CAAE,SAAF,EAAa,aAAA,GAAgB,GAAG,CAAC,IAAI,CAAC,MAAT,CAAA,CAA7B,CAFL;KADF;AAAA,IAIA,KAAA,EAAO;MACL;AAAA,QACE,GAAA,EACE;AAAA,UAAA,QAAA,EAAU,YAAV;AAAA,UACA,IAAA,EAAM,KADN;AAAA,UAEA,MAAA,EAAQ,CAAE,SAAE,CAAF,EAAK,OAAL,EAAc,GAAd,GAAA;AACR,YAAA,MAAA,CAAQ,qBAAR,EAA+B,IAAI,CAAC,SAAL,CAAgB,GAAhB,CAA/B,CAAA,CAAA;AACA,mBAAO,CAAE,CAAF,CAAP,CAFQ;UAAA,CAAF,CAGP,CAAC,QAHM,CAAA,CAFR;SAFJ;OADK,EAUL;AAAA,QACE,MAAA,EACE;AAAA,UAAA,QAAA,EAAU,YAAV;AAAA,UACA,IAAA,EAAM,IADN;AAAA,UAEA,IAAA,EAAM,gBAFN;SAFJ;OAVK;KAJP;GAHF;CADF,EAyBE,SAAE,GAAF,EAAO,KAAP,GAAA;SACA,GAAG,CAAC,IAAJ,CAAU,GAAV,EAAe,KAAK,CAAC,IAArB,EADA;AAAA,CAzBF,CAAA,CAAA;;AA6BA;AAAA;;;;;;;;;;;;;;;;GA7BA;;AA+CA;AAAA;;;;;;;;;;;;;;;;;;;;;;;...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/riak/mapred.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137064,
	size: 1917,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:49.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: request({
  uri: 'http://localhost:8098/mapred',
  method: 'POST',
  json: {
    inputs: {
      module: 'yokozuna',
      "function": 'mapred_search',
      arg: ['persona', 'agents.key:' + req.user.getKey()]
    },
    query: [
      {
        map: {
          language: 'javascript',
          keep: false,
          source: (function(v, keyData, arg) {
            ejsLog('/tmp/map_reduce.log', JSON.stringify(arg));
            return [1];
          }).toString()
        }
      }, {
        reduce: {
          language: 'javascript',
          keep: true,
          name: 'Riak.reduceSum'
        }
      }
    ]
  }
}, function(err, reply) {
  return res.send(200, reply.body);
});


/*
v:
  { bucket_type: 'persona',
  bucket: 'persona',
  key: '078b80e8-7f79-481c-bd7c-a61a5d0a5203',
  vclock: 'a85hYGBgzGDKBVIcypz/fgZPu6SewZTImMfKwBHLfZYvCwA=',
  values:
   [ { metadata:
        { 'X-Riak-VTag': '4IXaKVVnMY7gSWYRqSXm8U',
          'content-type': 'application/json',
          index: []...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/riak/pbc.js.map
contents: {
  "version": 3,
  "file": "pbc.js",
  "sourceRoot": "../../src/riak",
  "sources": [
    "pbc.coffee"
  ],
  "names": [],
  "mappings": "AAAA,MAAM,CAAC,OAAP,GAAiB,OAAA,CAAS,SAAT,CAAoB,CAAC,YAArB,CACf;AAAA,EAAA,IAAA,EAAM,WAAN;AAAA,EACA,IAAA,EAAM,IADN;CADe,CAAjB,CAAA"
}...

[15:00:59] gulp-debug: Coffee (2014-10-13 02:00:59 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/riak/pbc.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137065,
	size: 86,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:49.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: module.exports = require('riakpbc').createClient({
  host: 'localhost',
  port: 8087
});

/*
//# sourceMappingURL=pbc.js.map
*/...

[15:01:00] gulp-debug: Coffee (2014-10-13 02:01:00 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/runtime/Model.js.map
contents: {
  "version": 3,
  "file": "Model.js",
  "sourceRoot": "../../src/runtime",
  "sources": [
    "model.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;GAFA;AAAA"
}...

[15:01:00] gulp-debug: Coffee (2014-10-13 02:01:00 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/runtime/Model.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137068,
	size: 56,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:49.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
@module joukou-api/runtime/Model
 */


/*
//# sourceMappingURL=Model.js.map
*/...

[15:01:00] gulp-debug: Coffee (2014-10-13 02:01:00 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/runtime/routes.js.map
contents: {
  "version": 3,
  "file": "routes.js",
  "sourceRoot": "../../src/runtime",
  "sources": [
    "routes.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;GAFA;AAAA,IAAA,IAAA;;AAAA,MAOM,CAAC,OAAP,GAAiB,IAAA,GACf;AAAA;AAAA;;KAAA;AAAA,EAGA,cAAA,EAAgB,SAAE,MAAF,GAAA,CAHhB;CARF,CAAA"
}...

[15:01:00] gulp-debug: Coffee (2014-10-13 02:01:00 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/runtime/routes.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137069,
	size: 163,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:49.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
@module joukou-api/runtime/routes
 */
var self;

module.exports = self = {

  /**
  @param {joukou-api/server} server
   */
  registerRoutes: function(server) {}
};

/*
//# sourceMappingURL=routes.js.map
*/...

[15:01:00] gulp-debug: Coffee (2014-10-13 02:01:00 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/runtime/schema.js.map
contents: {
  "version": 3,
  "file": "schema.js",
  "sourceRoot": "../../src/runtime",
  "sources": [
    "schema.coffee"
  ],
  "names": [],
  "mappings": "AAW+B"
}...

[15:01:00] gulp-debug: Coffee (2014-10-13 02:01:00 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/runtime/schema.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137070,
	size: 0,
	blocks: 0,
	atime: new Date('2014-10-13T01:59:49.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: /*
//# sourceMappingURL=schema.js.map
*/...

[15:01:00] gulp-debug: Coffee (2014-10-13 02:01:00 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/persona/circle/routes.js.map
contents: {
  "version": 3,
  "file": "routes.js",
  "sourceRoot": "../../../src/persona/circle",
  "sources": [
    "routes.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;;;;;;;GAFA;AAAA,IAAA,IAAA;;AAAA,MAYM,CAAC,OAAP,GAAiB,IAAA,GAEf;AAAA,EAAA,cAAA,EAAgB,SAAE,MAAF,GAAA;AACd,IAAA,MAAM,CAAC,GAAP,CAAY,6BAAZ,EAA2C,IAAI,CAAC,KAAhD,CAAA,CADc;EAAA,CAAhB;AAAA,EAIA,KAAA,EAAO,SAAE,GAAF,EAAO,GAAP,EAAY,IAAZ,GAAA;WACL,GAAG,CAAC,IAAJ,CAAU,GAAV,EACE;AAAA,MAAA,SAAA,EACE;AAAA,QAAA,eAAA,EAAiB;UACf;AAAA,YACE,MAAA,EACE;AAAA,cAAA,IAAA,EACE;AAAA,gBAAA,IAAA,EAAO,WAAA,GAAU,GAAG,CAAC,MAAM,CAAC,UAArB,GAAiC,8CAAxC;eADF;AAAA,cAEA,gBAAA,EACE;AAAA,gBAAA,IAAA,EAAO,WAAA,GAAU,GAAG,CAAC,MAAM,CAAC,UAA5B;eAHF;aAFJ;AAAA,YAME,IAAA,EAAM,aANR;AAAA,YAOE,WAAA,EAAa,oCAPf;AAAA,YAQE,IAAA,EAAM,UARR;AAAA,YASE,QAAA,EAAU,KATZ;AAAA,YAUE,OAAA,EAAS;cACP;AAAA,gBACE,EAAA,EAAI,OADN;AAAA,gBAEE,IAAA,EAAM,OAFR;AAAA,gBAGE,IAAA,EAAM,QAHR;AAAA,gBAIE,WAAA,EAAa,qDAJf;AAAA,gBAKE,WAAA,EAAa,KALf;AAAA,gBAME,QAAA,EAAU,IANZ;eADO,EASP;AAAA,g...

[15:01:00] gulp-debug: Coffee (2014-10-13 02:01:00 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/persona/circle/routes.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137041,
	size: 4768,
	blocks: 16,
	atime: new Date('2014-10-13T01:59:49.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
{@link module:joukou-api/persona/circle/Model|Circle} APIs provide information
about the available Circles. In future the ability to create, sell and buy
Circles will be added.

@module joukou-api/persona/circle/routes
@author Isaac Johnston <isaac.johnston@joukou.com>
@copyright &copy; 2009-2014 Joukou Ltd. All rights reserved.
 */
var self;

module.exports = self = {
  registerRoutes: function(server) {
    server.get('/persona/:personaKey/circle', self.index);
  },
  index: function(req, res, next) {
    return res.send(200, {
      _embedded: {
        'joukou:circle': [
          {
            _links: {
              self: {
                href: "/persona/" + req.params.personaKey + "/circle/cdb6bc33-1e8a-46de-8049-3dcf0d8bddec"
              },
              'joukou:persona': {
                href: "/persona/" + req.params.personaKey
              }
            },
            name: 'MySQL Query',
            description: 'Obtain data from a MySQL database.',...

[15:01:00] gulp-debug: Coffee (2014-10-13 02:01:00 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/persona/graph/Model.js.map
contents: {
  "version": 3,
  "file": "Model.js",
  "sourceRoot": "../../../src/persona/graph",
  "sources": [
    "model.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;;;;;;;;;;;;;GAFA;AAAA,IAAA,kEAAA;;AAAA,CAkBA,GAAoB,OAAA,CAAS,QAAT,CAlBpB,CAAA;;AAAA,CAmBA,GAAoB,OAAA,CAAS,GAAT,CAnBpB,CAAA;;AAAA,IAoBA,GAAoB,OAAA,CAAS,WAAT,CApBpB,CAAA;;AAAA,KAqBA,GAAoB,OAAA,CAAS,kBAAT,CArBpB,CAAA;;AAAA,MAsBA,GAAoB,OAAA,CAAS,UAAT,CAtBpB,CAAA;;AAAA,YAuBA,GAAoB,OAAA,CAAS,UAAT,CAvBpB,CAAA;;AAAA,gBAwBoB,OAAA,CAAS,SAAT,EAAlB,aAxBF,CAAA;;AAAA,UA0BA,GAAa,KAAK,CAAC,MAAN,CACX;AAAA,EAAA,IAAA,EAAM,OAAN;AAAA,EACA,MAAA,EAAQ,MADR;AAAA,EAEA,MAAA,EAAQ,OAFR;CADW,CA1Bb,CAAA;;AAAA,UAkCU,CAAA,SAAE,CAAA,UAAZ,GAAyB,SAAA,GAAA;SACvB,YAAY,CAAC,QAAb,CAAuB,IAAC,CAAA,QAAD,CAAA,CAAW,CAAC,QAAU,CAAA,CAAA,CAAG,CAAC,GAAjD,EADuB;AAAA,CAlCzB,CAAA;;AAAA,UAqCU,CAAA,SAAE,CAAA,UAAZ,GAAyB,SAAE,IAAF,GAAA;AACvB,MAAA,4BAAA;AAAA,EAD2B,cAAA,QAAQ,gBAAA,QACnC,CAAA;AAAA,EAAA,GAAA,GAAM,IAAI,CAAC,EAAL,CAAA,CAAN,CAAA;AAAA,EAEA,oDAAY,CAAC,iBA...

[15:01:00] gulp-debug: Coffee (2014-10-13 02:01:00 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/persona/graph/Model.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137043,
	size: 2219,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:49.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
In flow-based programs, the logic is defined as a *Graph*. Each node of the
*Graph* is a *Process* that is implemented by a *Circle*, and the edges define
the *Connections* between them.

@class joukou-api/persona/graph/Model
@extends joukou-api/riak/Model
@requires joukou-api/persona/graph/schema
@requires restify.ConflictError
@requires lodash
@requires q
@requires node-uuid
@author Isaac Johnston <isaac.johnston@joukou.com>
@copyright &copy; 2009-2014 Joukou Ltd. All rights reserved.
 */
var ConflictError, GraphModel, Model, PersonaModel, Q, schema, uuid, _;

_ = require('lodash');

Q = require('q');

uuid = require('node-uuid');

Model = require('../../riak/Model');

schema = require('./schema');

PersonaModel = require('../Model');

ConflictError = require('restify').ConflictError;

GraphModel = Model.define({
  type: 'graph',
  schema: schema,
  bucket: 'graph'
});

GraphModel.prototype.getPersona = function() {
  return PersonaModel.retrieve(this.getValue().pe...

[15:01:00] gulp-debug: Coffee (2014-10-13 02:01:00 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/persona/graph/routes.js.map
contents: {
  "version": 3,
  "file": "routes.js",
  "sourceRoot": "../../../src/persona/graph",
  "sources": [
    "routes.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;;;;;;GAFA;AAAA,IAAA,8KAAA;;AAAA,CAWA,GAAgB,OAAA,CAAS,QAAT,CAXhB,CAAA;;AAAA,IAYA,GAAgB,OAAA,CAAS,WAAT,CAZhB,CAAA;;AAAA,KAaA,GAAgB,OAAA,CAAS,OAAT,CAbhB,CAAA;;AAAA,KAcA,GAAgB,OAAA,CAAS,aAAT,CAdhB,CAAA;;AAAA,GAeA,GAAgB,OAAA,CAAS,WAAT,CAfhB,CAAA;;AAAA,OAgBA,GAAgB,OAAA,CAAS,SAAT,CAhBhB,CAAA;;AAAA,iBAiBA,GAAoB,OAAA,CAAS,qBAAT,CAjBpB,CAAA;;AAAA,cAkBA,GAAiB,OAAA,CAAS,kBAAT,CAlBjB,CAAA;;AAAA,cAmBA,GAAiB,OAAA,CAAS,kBAAT,CAnBjB,CAAA;;AAAA,UAoBA,GAAgB,OAAA,CAAS,SAAT,CApBhB,CAAA;;AAAA,YAqBA,GAAgB,OAAA,CAAS,UAAT,CArBhB,CAAA;;AAAA,OAsBuD,OAAA,CAAS,SAAT,CAAvD,EAAE,yBAAA,iBAAF,EAAqB,sBAAA,cAArB,EAAqC,qBAAA,aAtBrC,CAAA;;AAAA,MAwBM,CAAC,OAAP,GAAiB,IAAA,GAEf;AAAA;AAAA;;;KAAA;AAAA,EAIA,cAAA,EAAgB,SAAE,MAAF,GAAA;AACd,IAAA,MAAM,CAAC,GAAP,CAAa,4BAAb,EAA2C,KAAK,CAAC,YAAjD,EAA+D,IAAI,CAAC,KAApE,CAAA,CAAA;AAAA,IACA,MAAM,CAAC,IAAP,CAA...

[15:01:00] gulp-debug: Coffee (2014-10-13 02:01:00 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/persona/graph/routes.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137053,
	size: 7606,
	blocks: 16,
	atime: new Date('2014-10-13T01:59:49.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
{@link module:joukou-api/persona/graph/model|Graph} APIs provide information about the
graphs that an agent has authorization to access.

@module joukou-api/persona/graph/routes
@author Isaac Johnston <isaac.johnston@joukou.com>
@copyright &copy; 2009-2014 Joukou Ltd. All rights reserved.
 */
var ForbiddenError, GraphModel, NotFoundError, PersonaModel, UnauthorizedError, async, authn, connection_routes, hal, network_routes, process_routes, request, self, uuid, _, _ref;

_ = require('lodash');

uuid = require('node-uuid');

async = require('async');

authn = require('../../authn');

hal = require('../../hal');

request = require('request');

connection_routes = require('./connection/routes');

process_routes = require('./process/routes');

network_routes = require('./network/routes');

GraphModel = require('./Model');

PersonaModel = require('../Model');

_ref = require('restify'), UnauthorizedError = _ref.UnauthorizedError, ForbiddenError = _ref.ForbiddenError, NotFo...

[15:01:00] gulp-debug: Coffee (2014-10-13 02:01:00 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/persona/graph/schema.js.map
contents: {
  "version": 3,
  "file": "schema.js",
  "sourceRoot": "../../../src/persona/graph",
  "sources": [
    "schema.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;;;;GAFA;AAAA,IAAA,MAAA;;AAAA,MASA,GAAS,OAAA,CAAS,UAAT,CATT,CAAA;;AAAA,MAWM,CAAC,OAAP,GAAiB,MAAM,CAAC,MAAP,CACf;AAAA,EAAA,IAAA,EACE;AAAA,IAAA,IAAA,EAAM,SAAN;GADF;AAAA,EAEA,SAAA,EACE;AAAA,IAAA,IAAA,EAAM,QAAN;GAHF;AAAA,EAIA,WAAA,EACE;AAAA,IAAA,IAAA,EAAM,OAAN;GALF;AAAA,EAMA,QAAA,EACE;AAAA,IAAA,IAAA,EAAM,OAAN;GAPF;CADe,CAXjB,CAAA"
}...

[15:01:00] gulp-debug: Coffee (2014-10-13 02:01:00 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/persona/graph/schema.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137054,
	size: 380,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:49.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
@module joukou-api/persona/graph/schema
@requires schemajs
@author Isaac Johnston <isaac.johnston@joukou.com>
@copyright (c) 2009-2014 Joukou Ltd. All rights reserved.
 */
var schema;

schema = require('schemajs');

module.exports = schema.create({
  name: {
    type: 'string+'
  },
  processes: {
    type: 'object'
  },
  connections: {
    type: 'array'
  },
  personas: {
    type: 'array'
  }
});

/*
//# sourceMappingURL=schema.js.map
*/...

[15:01:00] gulp-debug: Coffee (2014-10-13 02:01:00 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/persona/graph/connection/routes.js.map
contents: {
  "version": 3,
  "file": "routes.js",
  "sourceRoot": "../../../../src/persona/graph/connection",
  "sources": [
    "routes.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;;;;;;GAFA;AAAA,IAAA,oFAAA;;AAAA,KAWA,GAAgB,OAAA,CAAS,gBAAT,CAXhB,CAAA;;AAAA,GAYA,GAAgB,OAAA,CAAS,cAAT,CAZhB,CAAA;;AAAA,UAaA,GAAgB,OAAA,CAAS,UAAT,CAbhB,CAAA;;AAAA,OAcuD,OAAA,CAAS,SAAT,CAAvD,EAAE,yBAAA,iBAAF,EAAqB,sBAAA,cAArB,EAAqC,qBAAA,aAdrC,CAAA;;AAAA,MAgBM,CAAC,OAAP,GAAiB,IAAA,GAEf;AAAA;AAAA;;;KAAA;AAAA,EAIA,cAAA,EAAgB,SAAE,MAAF,GAAA;AACd,IAAA,MAAM,CAAC,GAAP,CACE,iDADF,EAEE,KAAK,CAAC,YAFR,EAEsB,IAAI,CAAC,KAF3B,CAAA,CAAA;AAAA,IAIA,MAAM,CAAC,IAAP,CACE,iDADF,EAEE,KAAK,CAAC,YAFR,EAEsB,IAAI,CAAC,MAF3B,CAJA,CAAA;AAAA,IAQA,MAAM,CAAC,GAAP,CACE,gEADF,EAEE,KAAK,CAAC,YAFR,EAEsB,IAAI,CAAC,QAF3B,CARA,CADc;EAAA,CAJhB;AAmBA;AAAA;;;;;;KAnBA;AA2BA;AAAA;;;;;KA3BA;AAAA,EAiCA,KAAA,EAAO,SAAE,GAAF,EAAO,GAAP,EAAY,IAAZ,GAAA;AACL,IAAA,UAAU,CAAC,QAAX,CAAqB,GAAG,CAAC,MAAM,CAAC,QAAhC,CAA0C,CAAC,IAA3C,CAAiD,SAAE,KAAF,G...

[15:01:00] gulp-debug: Coffee (2014-10-13 02:01:00 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/persona/graph/connection/routes.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137045,
	size: 3111,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:49.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
{@link module:joukou-api/persona/graph/connection/Model|Connection} APIs provide
the ability to inspect and create *Connections* for a *Graph*.

@module joukou-api/persona/graph/connection/routes
@author Isaac Johnston <isaac.johnston@joukou.com>
@copyright &copy; 2009-2014 Joukou Ltd. All rights reserved.
 */
var ForbiddenError, GraphModel, NotFoundError, UnauthorizedError, authn, hal, self, _ref;

authn = require('../../../authn');

hal = require('../../../hal');

GraphModel = require('../Model');

_ref = require('restify'), UnauthorizedError = _ref.UnauthorizedError, ForbiddenError = _ref.ForbiddenError, NotFoundError = _ref.NotFoundError;

module.exports = self = {

  /**
  Registers connection-related routes with the `server`.
  @param {joukou-api/server} server
   */
  registerRoutes: function(server) {
    server.get('/persona/:personaKey/graph/:graphKey/connection', authn.authenticate, self.index);
    server.post('/persona/:personaKey/graph/:graphKey/connect...

[15:01:00] gulp-debug: Coffee (2014-10-13 02:01:00 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/persona/graph/connection/schema.js.map
contents: {
  "version": 3,
  "file": "schema.js",
  "sourceRoot": "../../../../src/persona/graph/connection",
  "sources": [
    "schema.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;;;;GAFA;AAAA,IAAA,WAAA;;AAAA,WASA,GAAc,OAAA,CAAS,oBAAT,CATd,CAAA;;AAAA,MAWM,CAAC,OAAP,GAAiB,WAAW,CAAC,MAAZ,CACf;AAAA,EAAA,UAAA,EACE;AAAA,IAAA,QAAA,EACE;AAAA,MAAA,IAAA,EAAM,QAAN;KADF;AAAA,IAEA,IAAA,EACE;AAAA,MAAA,IAAA,EAAM,SAAN;KAHF;GADF;AAAA,EAKA,KAAA,EACE;AAAA,IAAA,gBAAA,EACE;AAAA,MAAA,GAAA,EAAK,CAAL;AAAA,MACA,GAAA,EAAK,CADL;AAAA,MAEA,IAAA,EAAM,mDAFN;AAAA,MAGA,UAAA,EACE;AAAA,QAAA,IAAA,EACE;AAAA,UAAA,QAAA,EAAU,IAAV;AAAA,UACA,IAAA,EAAM,MADN;AAAA,UAEA,MAAA,EAAQ,CAAE,KAAF,EAAS,KAAT,CAFR;SADF;OAJF;KADF;GANF;CADe,CAXjB,CAAA"
}...

[15:01:00] gulp-debug: Coffee (2014-10-13 02:01:00 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/persona/graph/connection/schema.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137046,
	size: 620,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:49.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
@module joukou-api/persona/graph/connection/schema
@requires joukou-api/hyper/Schema
@author Isaac Johnston <isaac.johnston@joukou.com>
@copyright (c) 2009-2014 Joukou Ltd. All rights reserved.
 */
var HyperSchema;

HyperSchema = require('../../hyper/Schema');

module.exports = HyperSchema.define({
  properties: {
    metadata: {
      type: 'object'
    },
    data: {
      type: 'string+'
    }
  },
  links: {
    'joukou:process': {
      min: 2,
      max: 2,
      href: '/persona/:personaKey/graph/:graphKey/process/:key',
      properties: {
        name: {
          required: true,
          type: 'enum',
          values: ['src', 'tgt']
        }
      }
    }
  }
});

/*
//# sourceMappingURL=schema.js.map
*/...

[15:01:00] gulp-debug: Coffee (2014-10-13 02:01:00 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/persona/graph/network/Model.js.map
contents: {
  "version": 3,
  "file": "Model.js",
  "sourceRoot": "../../../../src/persona/graph/network",
  "sources": [
    "model.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;GAFA;AAAA"
}...

[15:01:00] gulp-debug: Coffee (2014-10-13 02:01:00 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/persona/graph/network/Model.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137048,
	size: 70,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:49.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
@module joukou-api/persona/graph/network/Model
 */


/*
//# sourceMappingURL=Model.js.map
*/...

[15:01:00] gulp-debug: Coffee (2014-10-13 02:01:00 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/persona/graph/network/routes.js.map
contents: {
  "version": 3,
  "file": "routes.js",
  "sourceRoot": "../../../../src/persona/graph/network",
  "sources": [
    "routes.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;;;GAFA;AAAA,IAAA,IAAA;;AAAA,MAQM,CAAC,OAAP,GAAiB,IAAA,GACf;AAAA;AAAA;;KAAA;AAAA,EAGA,cAAA,EAAgB,SAAE,MAAF,GAAA,CAHhB;CATF,CAAA"
}...

[15:01:00] gulp-debug: Coffee (2014-10-13 02:01:00 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/persona/graph/network/routes.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137049,
	size: 245,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:49.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
{@link module:joukou-api/persona/graph/network/Model|Network} APIs.

@module joukou-api/persona/graph/network/routes
 */
var self;

module.exports = self = {

  /**
  @param {joukou-api/server} server
   */
  registerRoutes: function(server) {}
};

/*
//# sourceMappingURL=routes.js.map
*/...

[15:01:00] gulp-debug: Coffee (2014-10-13 02:01:00 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/persona/graph/network/schema.js.map
contents: {
  "version": 3,
  "file": "schema.js",
  "sourceRoot": "../../../../src/persona/graph/network",
  "sources": [
    "schema.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;GAFA;AAAA"
}...

[15:01:00] gulp-debug: Coffee (2014-10-13 02:01:00 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/persona/graph/network/schema.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137050,
	size: 70,
	blocks: 8,
	atime: new Date('2014-10-13T01:59:49.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
@module joukou-api/persona/graph/network/schema
 */


/*
//# sourceMappingURL=schema.js.map
*/...

[15:01:00] gulp-debug: Coffee (2014-10-13 02:01:00 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/persona/graph/process/routes.js.map
contents: {
  "version": 3,
  "file": "routes.js",
  "sourceRoot": "../../../../src/persona/graph/process",
  "sources": [
    "routes.coffee"
  ],
  "names": [],
  "mappings": "AAAA,YAAA,CAAA;AAEA;AAAA;;;;;;;GAFA;AAAA,IAAA,oFAAA;;AAAA,KAWA,GAAQ,OAAA,CAAS,gBAAT,CAXR,CAAA;;AAAA,GAYA,GAAM,OAAA,CAAS,cAAT,CAZN,CAAA;;AAAA,UAaA,GAAa,OAAA,CAAS,UAAT,CAbb,CAAA;;AAAA,OAcuD,OAAA,CAAS,SAAT,CAAvD,EAAE,yBAAA,iBAAF,EAAqB,sBAAA,cAArB,EAAqC,qBAAA,aAdrC,CAAA;;AAAA,MAgBM,CAAC,OAAP,GAAiB,IAAA,GAEf;AAAA;AAAA;;;KAAA;AAAA,EAIA,cAAA,EAAgB,SAAE,MAAF,GAAA;AACd,IAAA,MAAM,CAAC,GAAP,CACE,8CADF,EAEE,KAAK,CAAC,YAFR,EAEsB,IAAI,CAAC,KAF3B,CAAA,CAAA;AAAA,IAIA,MAAM,CAAC,IAAP,CACE,8CADF,EAEE,KAAK,CAAC,YAFR,EAEsB,IAAI,CAAC,MAF3B,CAJA,CAAA;AAAA,IAQA,MAAM,CAAC,GAAP,CACE,0DADF,EAEE,KAAK,CAAC,YAFR,EAEsB,IAAI,CAAC,QAF3B,CARA,CADc;EAAA,CAJhB;AAmBA;AAAA;;;;;;KAnBA;AA2BA;AAAA;;;;;KA3BA;AAAA,EAiCA,KAAA,EAAO,SAAE,GAAF,EAAO,GAAP,EAAY,IAAZ,GAAA;WACL,UAAU,CAAC,QAAX,CAAqB,GAAG,CAAC,MAAM,CAAC,QAAhC,CAA0C,CAAC,IAA3C,CAAiD,SAAE,KAAF,GAAA;aAC/C,KAAK...

[15:01:00] gulp-debug: Coffee (2014-10-13 02:01:00 UTC)

File
cwd:      ~/Workspace/Joukou/joukou-api
base:     ~/Workspace/Joukou/joukou-api/src/
path:     ~/Workspace/Joukou/joukou-api/src/persona/graph/process/routes.js
stat:     {
	dev: 2056,
	mode: 33204,
	nlink: 1,
	uid: 1000,
	gid: 1000,
	rdev: 0,
	blksize: 4096,
	ino: 137052,
	size: 4904,
	blocks: 16,
	atime: new Date('2014-10-13T01:59:49.000Z'),
	mtime: new Date('2014-10-11T03:16:19.000Z'),
	ctime: new Date('2014-10-11T03:16:19.000Z')
}
contents: "use strict";

/**
{@link module:joukou-api/persona/graph/process/Model|Process} APIs provide the
ability to inspect and create *Processes* for a *Graph*.

@module joukou-api/persona/graph/process/routes
@author Isaac Johnston <isaac.johnston@joukou.com>
@copyright &copy; 2009-2014 Joukou Ltd. All rights reserved.
 */
var ForbiddenError, GraphModel, NotFoundError, UnauthorizedError, authn, hal, self, _ref;

authn = require('../../../authn');

hal = require('../../../hal');

GraphModel = require('../Model');

_ref = require('restify'), UnauthorizedError = _ref.UnauthorizedError, ForbiddenError = _ref.ForbiddenError, NotFoundError = _ref.NotFoundError;

module.exports = self = {

  /**
  Registers process-related routes with the `server`.
  @param {joukou-api/server} server
   */
  registerRoutes: function(server) {
    server.get('/persona/:personaKey/graph/:graphKey/process', authn.authenticate, self.index);
    server.post('/persona/:personaKey/graph/:graphKey/process', authn.authenti...

[15:01:00] gulp-debug: Coffee end event fired (2014-10-13 02:01:00 UTC)
[15:01:00] Finished 'coffee:build' after 1.46 s
[15:01:00] Starting 'jsdoc:build'...
[15:01:00] Starting 'apidoc:build'...
apidoc: parse file: src/authz.coffee
apidoc: parse file: src/routes.coffee
apidoc: parse file: src/contact/routes.coffee
apidoc: parse file: src/persona/routes.coffee
apidoc: parse file: src/persona/graph/routes.coffee
apidoc: parse file: src/persona/graph/connection/routes.coffee
apidoc: parse file: src/persona/graph/process/routes.coffee
[15:01:00] apidoc:true
[15:01:00] Finished 'apidoc:build' after 50 ms
[15:01:03] Finished 'jsdoc:build' after 3.86 s
[15:01:03] Starting 'build'...
[15:01:03] Finished 'build' after 7.26 Œºs
